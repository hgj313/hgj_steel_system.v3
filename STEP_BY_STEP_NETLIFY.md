# ğŸš€ Netlify è¯¦ç»†æ“ä½œæ­¥éª¤ï¼ˆå›¾æ–‡å¹¶èŒ‚ï¼‰

## ğŸ“‹ å‡†å¤‡å·¥ä½œ

ç¡®ä¿ä½ çš„ä»£ç å·²ç»æ¨é€åˆ°GitHub/GitLab/Bitbucketä»“åº“ã€‚

## ğŸ¯ æ­¥éª¤ä¸€ï¼šé…ç½®æ„å»ºè®¾ç½®

### 1ï¸âƒ£ ç™»å½•å¹¶åˆ›å»ºç«™ç‚¹

1. **æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š**
   ```
   https://www.netlify.com
   ```

2. **ç™»å½•è´¦æˆ·**
   - ç‚¹å‡»å³ä¸Šè§’ "Log in" æŒ‰é’®
   - é€‰æ‹©ä½ çš„Gitæä¾›å•†ï¼ˆå»ºè®®ç”¨GitHubï¼‰
   - å®Œæˆæˆæƒç™»å½•

3. **åˆ›å»ºæ–°ç«™ç‚¹**
   - ç™»å½•åï¼Œåœ¨Dashboardé¡µé¢ç‚¹å‡»ç»¿è‰²çš„ **"New site from Git"** æŒ‰é’®

### 2ï¸âƒ£ è¿æ¥ä»“åº“

1. **é€‰æ‹©Gitæä¾›å•†**
   - ç‚¹å‡» **"GitHub"**ï¼ˆæˆ–ä½ ä½¿ç”¨çš„å…¶ä»–æä¾›å•†ï¼‰

2. **æˆæƒNetlify**
   - å¦‚æœæ˜¯é¦–æ¬¡ä½¿ç”¨ï¼Œä¼šå¼¹å‡ºæˆæƒé¡µé¢
   - ç‚¹å‡» **"Authorize netlify"** å®Œæˆæˆæƒ

3. **é€‰æ‹©ä»“åº“**
   - åœ¨ä»“åº“åˆ—è¡¨ä¸­æ‰¾åˆ°ä½ çš„é¡¹ç›®
   - ç‚¹å‡»é¡¹ç›®åç§°ï¼ˆåº”è¯¥æ˜¯ `hgj_steel_system.v3` æˆ–ç±»ä¼¼åç§°ï¼‰

### 3ï¸âƒ£ é…ç½®éƒ¨ç½²è®¾ç½® â­â­â­ é‡ç‚¹ï¼

ç°åœ¨ä¼šå‡ºç° **"Deploy settings"** é¡µé¢ï¼Œè¿™é‡Œéœ€è¦å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Deploy settings                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Owner: [ä½ çš„è´¦æˆ·å] âœ“ è‡ªåŠ¨é€‰æ‹©                          â”‚
â”‚                                                         â”‚
â”‚ Branch to deploy: main âœ“ æˆ– master                     â”‚
â”‚                                                         â”‚
â”‚ Basic build settings                                    â”‚
â”‚                                                         â”‚
â”‚ Build command: [     npm run build:netlify        ] â­ â”‚
â”‚                                                         â”‚
â”‚ Publish directory: [     client/build             ] â­ â”‚
â”‚                                                         â”‚
â”‚ â–¼ Show advanced                                         â”‚
â”‚                                                         â”‚
â”‚ Functions directory: [  netlify/functions         ] â­ â”‚
â”‚                                                         â”‚
â”‚ [    Cancel    ] [      Deploy site      ]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…·ä½“å¡«å†™ï¼š**

1. **Build command** è¾“å…¥æ¡†é‡Œå¡«å†™ï¼š
   ```
   npm run build:netlify
   ```

2. **Publish directory** è¾“å…¥æ¡†é‡Œå¡«å†™ï¼š
   ```
   client/build
   ```

3. **ç‚¹å‡» "Show advanced"** å±•å¼€é«˜çº§è®¾ç½®

4. **Functions directory** è¾“å…¥æ¡†é‡Œå¡«å†™ï¼š
   ```
   netlify/functions
   ```

5. **ç‚¹å‡»ç»¿è‰²çš„ "Deploy site" æŒ‰é’®**

### 4ï¸âƒ£ ç­‰å¾…é¦–æ¬¡éƒ¨ç½²

- ä¼šè·³è½¬åˆ°éƒ¨ç½²é¡µé¢ï¼Œæ˜¾ç¤ºæ„å»ºè¿›åº¦
- é¦–æ¬¡éƒ¨ç½²å¯èƒ½éœ€è¦5-10åˆ†é’Ÿ
- å¦‚æœæ„å»ºå¤±è´¥ï¼ŒæŸ¥çœ‹æ—¥å¿—æ‰¾å‡ºé—®é¢˜

## ğŸ¯ æ­¥éª¤äºŒï¼šé…ç½®ç¯å¢ƒå˜é‡

### 1ï¸âƒ£ è¿›å…¥ç«™ç‚¹è®¾ç½®

1. **åœ¨éƒ¨ç½²å®Œæˆåï¼ˆæˆ–éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼‰**
   - ç‚¹å‡»ç«™ç‚¹åç§°å›åˆ°Dashboard
   - ç‚¹å‡» **"Site settings"** æ ‡ç­¾

2. **æ‰¾åˆ°ç¯å¢ƒå˜é‡è®¾ç½®**
   - åœ¨å·¦ä¾§èœå•ä¸­ç‚¹å‡» **"Environment variables"**

### 2ï¸âƒ£ æ·»åŠ ç¯å¢ƒå˜é‡ â­â­â­ é‡ç‚¹ï¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Environment variables                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ [     + Add variable     ]                              â”‚
â”‚                                                         â”‚
â”‚ Key              Value                                  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ (è¿™é‡Œä¼šæ˜¾ç¤ºä½ æ·»åŠ çš„ç¯å¢ƒå˜é‡)                            â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‚¹å‡» "Add variable" æŒ‰é’®ï¼Œç„¶åé€ä¸ªæ·»åŠ ï¼š**

**ç¬¬1ä¸ªå˜é‡ï¼š**
```
Key:   NODE_ENV
Value: production
```
ç‚¹å‡» **"Create variable"**

**ç¬¬2ä¸ªå˜é‡ï¼š**
```
Key:   REACT_APP_VERSION
Value: 3.0.0
```
ç‚¹å‡» **"Create variable"**

**ç¬¬3ä¸ªå˜é‡ï¼š**
```
Key:   REACT_APP_API_URL
Value: /.netlify/functions
```
ç‚¹å‡» **"Create variable"**

### 3ï¸âƒ£ è§¦å‘é‡æ–°éƒ¨ç½²

ç¯å¢ƒå˜é‡è®¾ç½®å®Œæˆåï¼Œéœ€è¦é‡æ–°éƒ¨ç½²ï¼š

1. **ç‚¹å‡» "Deploys" æ ‡ç­¾**
2. **ç‚¹å‡» "Trigger deploy" æŒ‰é’®**
3. **é€‰æ‹© "Deploy site"**

## ğŸ¯ éªŒè¯éƒ¨ç½²ç»“æœ

### 1ï¸âƒ£ æ£€æŸ¥ç«™ç‚¹è®¿é—®

éƒ¨ç½²å®Œæˆåï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„URLï¼š
```
https://amazing-cupcake-123456.netlify.app
```

**ç‚¹å‡»è¿™ä¸ªURLï¼Œç¡®è®¤ï¼š**
- âœ… ç½‘ç«™èƒ½æ­£å¸¸è®¿é—®
- âœ… é¡µé¢åŠ è½½æ­£å¸¸
- âœ… æ²¡æœ‰æ˜æ˜¾é”™è¯¯

### 2ï¸âƒ£ æµ‹è¯•APIç«¯ç‚¹

åœ¨æµè§ˆå™¨åœ°å€æ æµ‹è¯•ï¼š
```
https://ä½ çš„ç«™ç‚¹å.netlify.app/.netlify/functions/health
```

åº”è¯¥è¿”å›ç±»ä¼¼ï¼š
```json
{
  "success": true,
  "message": "é’¢æé‡‡è´­ä¼˜åŒ–ç³»ç»Ÿ V3.0 è¿è¡Œæ­£å¸¸ (Netlify)",
  "version": "3.0.0",
  "timestamp": "2024-12-19T...",
  "platform": "Netlify Functions"
}
```

### 3ï¸âƒ£ æ£€æŸ¥Functionséƒ¨ç½²

1. **åœ¨ç«™ç‚¹Dashboardä¸­ç‚¹å‡» "Functions" æ ‡ç­¾**
2. **ç¡®è®¤èƒ½çœ‹åˆ°ä»¥ä¸‹Functionsï¼š**
   - âœ… health
   - âœ… optimize  
   - âœ… stats
   - âœ… tasks
   - âœ… upload-design-steels
   - âœ… validate-constraints

## ğŸš¨ å¸¸è§é”™è¯¯åŠè§£å†³

### âŒ æ„å»ºå¤±è´¥ï¼šCommand failed with exit code 1

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥ Build command æ˜¯å¦æ­£ç¡®ï¼š`npm run build:netlify`
2. ç¡®è®¤ä½ çš„ package.json ä¸­æœ‰è¿™ä¸ªè„šæœ¬
3. æŸ¥çœ‹æ„å»ºæ—¥å¿—çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

### âŒ 404 é”™è¯¯é¡µé¢

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥ Publish directory æ˜¯å¦æ­£ç¡®ï¼š`client/build`
2. ç¡®è®¤æ„å»ºæˆåŠŸç”Ÿæˆäº† client/build ç›®å½•

### âŒ APIä¸å·¥ä½œ

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥ Functions directory æ˜¯å¦æ­£ç¡®ï¼š`netlify/functions`
2. ç¡®è®¤ç¯å¢ƒå˜é‡è®¾ç½®æ­£ç¡®
3. æŸ¥çœ‹Functionæ—¥å¿—

## ğŸ‰ å®Œæˆï¼

å¦‚æœæ‰€æœ‰æ­¥éª¤éƒ½æ­£ç¡®å®Œæˆï¼Œä½ çš„é’¢æé‡‡è´­ä¼˜åŒ–ç³»ç»ŸV3.0å°±æˆåŠŸéƒ¨ç½²åˆ°Netlifyäº†ï¼

**æœ€ç»ˆæ£€æŸ¥æ¸…å•ï¼š**
- âœ… ç½‘ç«™å¯ä»¥æ­£å¸¸è®¿é—®
- âœ… APIå¥åº·æ£€æŸ¥æ­£å¸¸
- âœ… Functionséƒ½æ­£ç¡®éƒ¨ç½²
- âœ… ç¯å¢ƒå˜é‡è®¾ç½®æ­£ç¡®

---

**ğŸ”— å¿«é€Ÿè®¿é—®é“¾æ¥ï¼š**
- ğŸŒ ä½ çš„ç½‘ç«™ï¼š`https://ä½ çš„ç«™ç‚¹å.netlify.app`
- ğŸ”§ APIå¥åº·æ£€æŸ¥ï¼š`https://ä½ çš„ç«™ç‚¹å.netlify.app/.netlify/functions/health`
- ğŸ“Š ç³»ç»Ÿç»Ÿè®¡ï¼š`https://ä½ çš„ç«™ç‚¹å.netlify.app/.netlify/functions/stats` 